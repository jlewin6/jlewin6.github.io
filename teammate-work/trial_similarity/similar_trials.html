<!DOCTYPE html>
<html lang="en">
<head>
    <script src="../../lib/d3.v5.min.js"></script>
    <script src="../../lib/d3-dsv.min.js"></script>
  </head>
<body>
  <script>

  var tabulate = function (data,columns) {
        var table = d3.select('body').append('table').style('border', '1px solid black')
	    var thead = table.append('thead')
	    var tbody = table.append('tbody')

	    thead.append('tr')
	        .selectAll('th')
	        .data(columns)
	        .enter()
	        .append('th')
	        .text(function (d) { return d })
            .style('border', '1px solid black')

	    var rows = tbody.selectAll('tr')
	        .data(data)
	        .enter()
	        .append('tr')
      .style('border', '1px solid black')

	    rows.selectAll('td')
	        .data(function(row) {
	    	    return columns.map(function (column) {
	    		    return { column: column, value: row[column] }
	            })
            })
            .enter()
            .append('td')
            .text(function (d) { return d.value })
      .style('border', '1px solid black')

        return table;
  }

  d3.dsv(",", 'top_similar.csv',function (data) {
      return data
  }).then(function(data){
      var columns = ['nct_id', 'description', 'similarity_score']
      tabulate(data,columns)
  });


  </script>

</body>
</html>
